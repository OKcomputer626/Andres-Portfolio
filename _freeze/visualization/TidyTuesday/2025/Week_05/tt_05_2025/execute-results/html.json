{
  "hash": "01eaa7a08c7fae5ec71503583c253876",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"The Simpsons Dataset\"\ndescription: \"This visualization showcases IMDb ratings for The Simpsons episodes across multiple seasons, where color represents the rating (from 4.5 to 8.4) and dot size reflects the number of votes. Notably, Barthood (S27E09) holds the highest rating (8.4), while Lisa Goes Gaga (S23E22) is the lowest-rated episode (4.5) with the most votes.\"\nlightbox: true\ndate: February 12,2025\ncategories: [TidyTuesday, R Programming, Data Visualization, Simpsons]\ntags: [ggplot2, data-visualization, tidyverse]\nimage: \"tt_05_2025.png\"\neditor_options: \n  chunk_output_type: inline\n---\n\n\n\n![Created using ggplot2 in R, the chart utilizes color encoding to represent IMDb ratings, ranging from 4.5 (lowest) to 8.4 (highest), as shown in the scale on the right. Size encoding indicates the number of IMDb votes per episode, with reference values (104, 600, and 1,215 votes) displayed in the legend. Notable highlights include \"Barthood\" (S27E09) as the highest-rated episode (8.4 IMDb, 698 votes) and \"Lisa Goes Gaga\" (S23E22) as the lowest-rated episode (4.5 IMDb, 1,215 votes), marked by the largest and most saturated pink dot.](tt_05_2025.png){#fig-1}\n\n### <mark> **How This Graphic Was Made** </mark>\n\n#### 1. ðŸ“¦ Load Packages & Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary packages using pacman for easier dependency management\npacman::p_load(\n  tidyverse,   # Collection of R packages for data science (ggplot2, dplyr, etc.)\n  showtext,    # Enables custom fonts for ggplot2\n  ggtext,      # Adds rich text formatting to ggplot2\n  skimr,       # Provides summary statistics in a readable format\n  janitor,     # Cleans and formats column names for consistency\n  shadowtext,  # Adds text with shadows in ggplot2 for better readability\n  glue         # Provides a more readable way to concatenate and format strings\n)\n\n# Add Google fonts\nfont_add_google(\"Roboto Condensed\", family = \"Roboto\")\nfont_add(\"Simpsons\", regular = here::here(\"fonts/Simpsons.otf\"))\n\n# Add local font\nfont_add(\"Font Awesome 6 Brands\", here::here(\"fonts/otfs/Font Awesome 6 Brands-Regular-400.otf\"))\n\n# Automatically enable the use of showtext for all plots\nshowtext_auto()\n\n# Set DPI for high-resolution text rendering\nshowtext_opts(dpi = 300)\n```\n:::\n\n\n\n#### 2. ðŸ“– Read in the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the TidyTuesday data\ntuesdata <- tidytuesdayR::tt_load(2025, week = 5)\n\ncharacters <- tuesdata$simpsons_characters %>% clean_names()\nepisodes <- tuesdata$simpsons_episodes %>% clean_names()\nlocations <- tuesdata$simpsons_locations %>% clean_names()\nscript_lines <- tuesdata$simpsons_script_lines %>% clean_names()\n\ntidytuesdayR::readme(tuesdata)  # Display dataset documentation\nrm(tuesdata)  # Remove raw data object to free up memory\n```\n:::\n\n\n\n#### 3. ðŸ•µï¸ Examine the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Preview the structure of each dataset using glimpse()\nglimpse(characters)\nglimpse(episodes)\nglimpse(locations)\nglimpse(script_lines)\n```\n:::\n\n\n\n#### 4. ðŸ¤¼ Wrangle Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select the episode with the lowest IMDb rating\nepisodes %>%\n  slice_min(imdb_rating) %>%\n  select(imdb_rating, imdb_votes, number_in_season, season, title)\n\n# Select the episode with the highest IMDb rating\nepisodes %>%\n  slice_max(imdb_rating) %>%\n  select(imdb_rating, imdb_votes, number_in_season, season, title)\n\n# Select the episode with the fewest IMDb votes\nepisodes %>%\n  slice_min(imdb_votes) %>%\n  select(imdb_votes)\n\n# Select the episode with the most IMDb votes\nepisodes %>%\n  slice_max(imdb_votes) %>%\n  select(imdb_votes) \n\n# Remove episodes with missing IMDb ratings\nepisodes_clean <- episodes %>%\n  drop_na(imdb_rating)\n\n# Count the number of episodes per season\nepisodes_clean %>%\n  group_by(season) %>%\n  count(season)\n```\n:::\n\n\n\n#### 5. ðŸ”¤ Text\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntitle <- \"the Simpsons Ratings\"\nst <- \"Highest and Lowest Rated Episodes: Barthood (S27E09, 8.4 IMDb, 698 votes) vs. Lisa Goes Gaga (S23E22, 4.5 IMDb, 1,215 votes)\"\n\n# Create a social media caption with customized colors and font for consistency in visualization\nsocial <- andresutils::social_caption(font_family = \"Roboto\", icon_color = \"black\", bg_color = \"#C5DCEE\") \n\n# Construct the final plot caption by combining TidyTuesday details, data source, and the social caption\ncap <- paste0(\n  \"#TidyTuesday: Week 05, 2025 | **Source**: The Simpsons Dataset | **Graphic**: \", social\n)\n```\n:::\n\n\n\n#### 6. ðŸ“Š Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a scatter plot visualizing IMDb ratings and votes for each episode\np <- episodes_clean %>%\n  ggplot(aes(x = factor(number_in_season), y = fct_rev(factor(season)))) +\n  geom_point(aes(color = imdb_rating, size = imdb_votes)) +\n  scale_color_gradientn(colors = LaCroixColoR::lacroix_palette(\"PassionFruit\", type = \"continuous\"), breaks = c(4.5, 5.5, 6.5, 7.5, 8.4)) +\n  scale_size_area(breaks = c(104, 600, 1215), label = scales::comma) +\n  guides(color = guide_colorbar(barheight = unit(7, \"lines\"),\n                                barwidth = unit(0.5, \"lines\"),\n                                order = 1,\n                                theme = theme(\n                                  legend.title = element_text(margin = margin(b = 7))\n                                )),\n         size = guide_legend(override.aes = list(shape = 21))) +\n  labs(x = \"Episode\",\n       y = \"Season\",\n       title = title,\n       subtitle = st,\n       caption = cap,\n       color = \"IMDb rating\", size = \"IMDb\\nrating count\") +\n  theme_minimal(base_family = \"Roboto\") +\n  theme(\n    plot.title = element_shadowtext(family = \"Simpsons\", face = \"bold\", bg.r = 0.05, size = 14, color = \"#FFDF00\", margin = margin(b = 20), hjust = 1.15),\n    plot.subtitle = element_textbox_simple(size = 7, margin = margin(b = 10), lineheight = 1.2),\n    plot.background = element_rect(fill = \"#C5DCEE\", color = NA),\n    axis.text = element_text(color = \"black\", size = 8),\n    axis.title.x=element_text(color = \"black\", size = 9, face = \"bold\", margin = margin(t = 3)),\n    axis.title.y=element_text(color = \"black\", size = 9, face = \"bold\"),\n    plot.margin = margin(0.5, 0.5, 0.5, 0.5, unit = \"cm\"),\n    panel.grid = element_line(linetype = \"dotted\", color = \"grey65\", size = 0.2),\n    legend.title = element_text(size = 8, margin = margin(b = 2)),\n    legend.text = element_text(size = 7.5),\n    plot.caption.position = \"plot\",\n    plot.caption = element_markdown(size = 6, hjust = 0, margin = margin(t = 10))\n  )\n```\n:::\n\n\n\n#### 7. ðŸ’¾ Save\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Save plot with dimensions\nandresutils::save_plot(p, type = \"tidytuesday\", year = 2025, week = 5, width = 6, height = 4.5)\n```\n:::\n\n\n\n#### 8. ðŸš€ GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`tt_05_2025.qmd`](https://github.com/OKcomputer626/Andres-Portfolio/blob/master/visualization/TidyTuesday/2025/tt_05_2025.qmd).\n\nFor the full repository, [click here](https://github.com/OKcomputer626/Andres-Portfolio).\n:::\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}